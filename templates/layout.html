<!doctype html>
<html lang="lt">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1.0" />
		<title>
			{% block title %}{{ meta_title|default('Padelio laikai') }}{%
			endblock %}
		</title>
		<meta
			name="description"
			content="{{ meta_description|default('Raskite laisvus laikus padelio aikštelėse. Peržiūrėkite pasiūlymus iš 4Padel, Padel Spot ir kitų aikštelių vienoje vietoje.') }}"
		/>
		{% if canonical_url %}
		<link rel="canonical" href="{{ canonical_url }}" />
		{% endif %}
		<meta name="robots" content="index, follow" />
		<meta name="theme-color" content="#2563eb" />

		<!-- Open Graph -->
		<meta property="og:type" content="website" />
		<meta
			property="og:title"
			content="{{ meta_title|default('Padelio laikai') }}"
		/>
		<meta
			property="og:description"
			content="{{ meta_description|default('Raskite laisvus laikus padelio aikštelėse.') }}"
		/>
		{% if canonical_url %}
		<meta property="og:url" content="{{ canonical_url }}" />
		{% endif %} {% if og_image %}
		<meta property="og:image" content="{{ og_image }}" />
		{% endif %}
		<meta
			property="og:site_name"
			content="{{ site_name|default('Padelio laikai') }}"
		/>
		<meta property="og:locale" content="lt_LT" />

		<!-- Twitter Card -->
		<meta name="twitter:card" content="summary" />
		<meta
			name="twitter:title"
			content="{{ meta_title|default('Padelio laikai') }}"
		/>
		<meta
			name="twitter:description"
			content="{{ meta_description|default('Raskite laisvus laikus padelio aikštelėse.') }}"
		/>

		<link rel="icon" href="/static/favicon.ico" type="image/x-icon" />
		<script src="https://cdn.tailwindcss.com"></script>
		<link
			href="https://cdn.jsdelivr.net/npm/flowbite@2.2.1/dist/flowbite.min.css"
			rel="stylesheet"
		/>
		<style>
			/* Loading spinner animation */
			@keyframes spin {
				to {
					transform: rotate(360deg);
				}
			}
			.loader-spinner {
				animation: spin 1s linear infinite;
			}
		</style>
	</head>
	<body>
		<header class="w-full py-8 border-b border-gray-200">
			<div class="container px-4 mx-auto">
				<div class="flex items-center gap-2">
					<img
						src="/static/favicon.ico"
						alt="Padelio laikai"
						class="w-10 h-10"
					/>
					<h1 class="text-3xl font-bold text-red-400 mb-2">
						padeliolaikas.lt
					</h1>
				</div>
			</div>
		</header>
		<main class="min-h-screen bg-gray-50">
			{% block content %} {% endblock %}
		</main>
		<footer class="w-full py-10 border-t border-gray-200 bg-white mt-auto">
			<div class="container px-4 mx-auto">
				<div
					class="flex flex-col sm:flex-row sm:items-center sm:justify-between gap-6"
				>
					<p class="text-sm font-bold text-red-400">
						© 2026 padeliolaikas.lt
					</p>
					<div class="flex flex-col gap-3">
						<span
							class="text-xs font-semibold uppercase tracking-wider text-gray-500"
							>Kontaktai</span
						>
						<div class="flex flex-wrap items-center gap-4">
							<a
								href="mailto:vpreiks@gmail.com"
								class="inline-flex items-center gap-2 text-sm text-gray-600 hover:text-red-500 transition-colors"
							>
								<svg
									class="w-4 h-4 shrink-0"
									fill="none"
									stroke="currentColor"
									viewBox="0 0 24 24"
									aria-hidden="true"
								>
									<path
										stroke-linecap="round"
										stroke-linejoin="round"
										stroke-width="2"
										d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"
									/>
								</svg>
								vpreiks@gmail.com
							</a>
							<a
								href="https://www.linkedin.com/in/vytautas-preik%C5%A1aitis-583b01122/"
								target="_blank"
								rel="noopener noreferrer"
								class="inline-flex items-center gap-2 text-sm text-gray-600 hover:text-red-500 transition-colors"
							>
								<svg
									class="w-4 h-4 shrink-0"
									viewBox="0 0 24 24"
									fill="currentColor"
									aria-hidden="true"
								>
									<path
										d="M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z"
									/>
								</svg>
								LinkedIn
							</a>
						</div>
					</div>
				</div>
			</div>
		</footer>
		{% if google_analytics_id and google_analytics_id|length > 0 %}
		<div
			id="cookie-banner"
			class="fixed bottom-0 left-0 right-0 z-50 p-4 bg-white border-t border-gray-200 shadow-lg hidden"
		>
			<div
				class="container mx-auto flex flex-col sm:flex-row items-center justify-between gap-4"
			>
				<p class="text-sm text-gray-600">
					Šioje svetainėje naudojame slapukus (cookies), kad galėtume
					analizuoti lankomumą ir pagerinti patirtį. Pasirinkdami
					„Sutinku“, Jūs leidžiate naudoti analitikos slapukus.
					<a
						href="https://policies.google.com/privacy"
						target="_blank"
						rel="noopener"
						class="text-blue-600 hover:underline"
						>Privatumo politika</a
					>
				</p>
				<div class="flex items-center gap-2 shrink-0">
					<button
						id="cookie-decline"
						type="button"
						class="px-4 py-2 text-sm font-medium text-gray-700 bg-gray-100 hover:bg-gray-200 rounded-lg transition-colors"
					>
						Atmesti
					</button>
					<button
						id="cookie-accept"
						type="button"
						class="px-4 py-2 text-sm font-medium text-white bg-blue-600 hover:bg-blue-700 rounded-lg transition-colors"
					>
						Sutinku
					</button>
				</div>
			</div>
		</div>

		<!-- eslint-disable -->
		<script id="ga-config" data-ga-id="{{ google_analytics_id|e }}">
			(function () {
				var COOKIE_CONSENT_KEY = 'padel_time_cookie_consent';
				var gaId =
					document
						.getElementById('ga-config')
						.getAttribute('data-ga-id') || null;

				function loadGoogleAnalytics() {
					if (!gaId) return;
					var script = document.createElement('script');
					script.async = true;
					script.src =
						'https://www.googletagmanager.com/gtag/js?id=' + gaId;
					document.head.appendChild(script);
					window.dataLayer = window.dataLayer || [];
					function gtag() {
						dataLayer.push(arguments);
					}
					gtag('js', new Date());
					gtag('config', gaId, { anonymize_ip: true });
				}

				function hideBanner() {
					var el = document.getElementById('cookie-banner');
					if (el) el.classList.add('hidden');
				}

				var consent = localStorage.getItem(COOKIE_CONSENT_KEY);
				if (consent === null) {
					var banner = document.getElementById('cookie-banner');
					if (banner) banner.classList.remove('hidden');
				} else if (consent === 'accepted') {
					loadGoogleAnalytics();
				}

				var acceptBtn = document.getElementById('cookie-accept');
				if (acceptBtn) {
					acceptBtn.addEventListener('click', function () {
						localStorage.setItem(COOKIE_CONSENT_KEY, 'accepted');
						loadGoogleAnalytics();
						hideBanner();
					});
				}

				var declineBtn = document.getElementById('cookie-decline');
				if (declineBtn) {
					declineBtn.addEventListener('click', function () {
						localStorage.setItem(COOKIE_CONSENT_KEY, 'declined');
						hideBanner();
					});
				}
			})();
		</script>
		{%- endif %}

		<script src="https://cdn.jsdelivr.net/npm/flowbite@2.2.1/dist/flowbite.min.js"></script>
	</body>
</html>
